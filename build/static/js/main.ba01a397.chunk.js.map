{"version":3,"sources":["services/names.js","App.js","index.js"],"names":["baseUrl","services_names","added","axios","post","then","response","data","get","id","newNumber","put","concat","delete","PersonForm","_ref","addName","newName","changeName","changeNumber","react_default","a","createElement","onSubmit","value","onChange","type","Notification","_ref2","message","className","Names","_ref3","names","newFilter","deleteNumber","filter","one","name","toLowerCase","includes","map","key","number","onClick","Filter","_ref4","filterNames","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewFilter","_useState9","_useState10","goodMessage","setNewGood","useEffect","base","App_Notification","App_Filter","event","preventDefault","target","App_PersonForm","defName","result","forEach","console","log","window","confirm","setTimeout","App_Names","numberToDelete","find","n","removed","ReactDOM","createRoot","document","getElementById","render","src_App"],"mappings":"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","file":"static/js/main.ba01a397.chunk.js","sourcesContent":["import axios from 'axios'\n/* const baseUrl = '/api/persons' */\nconst baseUrl = '/api/persons'\n\nconst create = (added) => {\n    const request = axios.post(baseUrl, added)\n    return request.then(response => response.data)\n  }\n\n  const getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n  }\n\n  const remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n  }\n\n  const update = (id, newNumber) => {\n    const request = axios.put(`${baseUrl}/${id}`, newNumber)\n    return request.then(response => response.data)\n  }\n\n\n  export default {create, getAll, update, remove}","import React, { useState, useEffect } from 'react'\nimport data from './services/names'\n\n\nconst PersonForm = ({addName, newName, newNumber, changeName, changeNumber}) => (\n  <form onSubmit={addName}>\n        <div>\n          name: <input value={newName} onChange={changeName} />\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={changeNumber} />\n          </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n)\n\nconst Notification = ({message}) => {\n  if(message === null) {\n    return null\n  } else {\n  return(\n    <div className=\"error\">\n      {message}\n    </div>\n  )}\n \n}\n\nconst Names = ({names, newFilter, deleteNumber}) => {\n  return(\n    <div>\n    {names.filter((one) => {\n      return newFilter === '' || (one.name.toLowerCase().includes(newFilter.toLowerCase())) \n    }).map(name =>    \n      <p key={name.name}>\n          {name.name} {name.number} <button onClick={() => deleteNumber(name.id)}>delete</button> \n        </p>\n      )\n       }\n       </div>\n      )\n}\n    \n\n\nconst Filter = ({filterNames, newFilter}) =>  (\n  <form>\n    <div>\n      filter: <input value={newFilter} onChange={filterNames}/>\n    </div>\n  </form>\n)\n\n\n\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [newName, setNewName] = useState('')\n\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n\n  const [goodMessage, setNewGood] = useState(null)  \n\n\n\n  useEffect (() => {\n    data\n    .getAll()\n    .then(base => {\n      setPersons(base)\n    })\n  }, [])\n\n\n  const deleteNumber = (id) => {\n    const numberToDelete = persons.find(n => n.id === id)\n    if(window.confirm(`Delete ${numberToDelete.name}?`)) {\n      data\n      .remove(id)\n      .then(removed => {\n        setPersons(persons.concat(removed))\n        setPersons(persons.filter(n => n.id !== id))\n        setNewGood(`Deleted ${numberToDelete.name}`)\n        setTimeout(() => {\n         setNewGood(null)}, 4000)\n    })\n    }\n  }\n\n\n  const filterNames = (event) => {\n    event.preventDefault()\n    setNewFilter(event.target.value)\n  }\n\n  \n  const addName = (event) => {\n    event.preventDefault()\n    const defName = {\n      name: newName,\n      number: newNumber\n    }\n    let id = 0\n    let result = false\n     persons.forEach(one=> {\n      if(one.name === newName) {\n      id = one.id\n      result = true \n      }\n     }\n      )\n    console.log(result)\n    if(result) {\n      if(window.confirm(`Replace number of ${newName}?`)) {\n      data\n      .update(id, defName)\n      .then(() => {\n        setPersons(persons)\n      setNewGood(`Updated ${newName}`)\n   setTimeout(() => {\n    setNewGood(null)}, 4000)\n    setNewName('')\n    setNewNumber('')\n    })}\n  }\n    else {\n    \n      data\n      .create(defName)\n      .then(added => {\n    setPersons(persons.concat(added))\n    setNewName('')\n    setNewNumber('')\n   setNewGood(`Added ${newName}`)\n   setTimeout(() => {\n    setNewGood(null)}, 4000)\n    })\n  }\n}\n\n  const changeName = (event) => {\n    setNewName(event.target.value)\n  }\n  const changeNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={goodMessage} />\n      <Filter filterNames={filterNames} newFilter={newFilter}/>\n      <h2>add a new</h2>\n      <PersonForm newName={newName} addName={addName} newNumber={newNumber} \n      changeName={changeName} changeNumber={changeNumber} />\n      <h2>Numbers</h2>\n      <Names names={persons} newFilter={newFilter} deleteNumber={deleteNumber} />\n    </div>\n  )\n\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport React from 'react'\nimport App from './App'\nimport './index.css'\n\nReactDOM.createRoot(document.getElementById('root')).render(<App />)"],"sourceRoot":""}