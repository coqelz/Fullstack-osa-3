{"version":3,"sources":["services/names.js","App.js","index.js"],"names":["baseUrl","services_names","added","axios","post","then","response","data","get","id","newNumber","put","concat","delete","PersonForm","_ref","addName","newName","changeName","changeNumber","react_default","a","createElement","onSubmit","value","onChange","type","Notification","_ref2","message","className","ErrorNotification","_ref3","Names","_ref4","names","newFilter","deleteNumber","filter","one","name","toLowerCase","includes","map","key","number","onClick","Filter","_ref5","filterNames","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewFilter","_useState9","_useState10","goodMessage","setNewGood","_useState11","_useState12","errorMessage","setNewError","useEffect","base","App_Notification","App_ErrorNotification","App_Filter","event","preventDefault","target","App_PersonForm","defName","result","forEach","console","log","window","confirm","setTimeout","catch","error","App_Names","numberToDelete","find","n","removed","ReactDOM","createRoot","document","getElementById","render","src_App"],"mappings":"4MAEMA,EAAU,eAuBCC,EArBF,SAACC,GAEZ,OADgBC,IAAMC,KAAKJ,EAASE,GACrBG,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAmB5BN,EAhBA,WAEb,OADgBE,IAAMK,IAAIR,GACXK,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAc5BN,EANA,SAACQ,EAAIC,GAElB,OADgBP,IAAMQ,IAAG,GAAAC,OAAIZ,EAAO,KAAAY,OAAIH,GAAMC,GAC/BL,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAI5BN,EAXA,SAACQ,GAEd,OADgBN,IAAMU,OAAM,GAAAD,OAAIZ,EAAO,KAAAY,OAAIH,IAC5BJ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QCZvCO,EAAa,SAAHC,GAAA,IAAKC,EAAOD,EAAPC,QAASC,EAAOF,EAAPE,QAASP,EAASK,EAATL,UAAWQ,EAAUH,EAAVG,WAAYC,EAAYJ,EAAZI,aAAY,OACxEC,EAAAC,EAAAC,cAAA,QAAMC,SAAUP,GACVI,EAAAC,EAAAC,cAAA,oBACQF,EAAAC,EAAAC,cAAA,SAAOE,MAAOP,EAASQ,SAAUP,KAEzCE,EAAAC,EAAAC,cAAA,sBACUF,EAAAC,EAAAC,cAAA,SAAOE,MAAOd,EAAWe,SAAUN,KAE7CC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQI,KAAK,UAAQ,UAKzBC,EAAe,SAAHC,GAAkB,IAAbC,EAAOD,EAAPC,QACrB,OAAe,OAAZA,EACM,KAGPT,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,WACZD,IAMDE,EAAoB,SAAHC,GAAkB,IAAbH,EAAOG,EAAPH,QAC1B,OAAe,OAAZA,EACM,KAGPT,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,SACZD,IAMDI,EAAQ,SAAHC,GAAyC,IAApCC,EAAKD,EAALC,MAAOC,EAASF,EAATE,UAAWC,EAAYH,EAAZG,aAChC,OACEjB,EAAAC,EAAAC,cAAA,WACCa,EAAMG,OAAO,SAACC,GACb,MAAqB,KAAdH,GAAqBG,EAAIC,KAAKC,cAAcC,SAASN,EAAUK,iBACrEE,IAAI,SAAAH,GAAI,OACTpB,EAAAC,EAAAC,cAAA,KAAGsB,IAAKJ,EAAKA,MACRA,EAAKA,KAAI,IAAGA,EAAKK,OAAM,IAAEzB,EAAAC,EAAAC,cAAA,UAAQwB,QAAS,kBAAMT,EAAaG,EAAK/B,MAAI,eAU3EsC,EAAS,SAAHC,GAAA,IAAKC,EAAWD,EAAXC,YAAab,EAASY,EAATZ,UAAS,OACrChB,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,sBACUF,EAAAC,EAAAC,cAAA,SAAOE,MAAOY,EAAWX,SAAUwB,OA2HlCC,EAlHH,WAAM,IAAAC,EACcC,mBAAS,IAAGC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAAnCK,EAAOH,EAAA,GAAEI,EAAUJ,EAAA,GAAAK,EACIN,mBAAS,IAAGO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAAnCzC,EAAO0C,EAAA,GAAEC,EAAUD,EAAA,GAAAE,EAEQT,mBAAS,IAAGU,EAAAR,OAAAC,EAAA,EAAAD,CAAAO,EAAA,GAAvCnD,EAASoD,EAAA,GAAEC,EAAYD,EAAA,GAAAE,EACIZ,mBAAS,IAAGa,EAAAX,OAAAC,EAAA,EAAAD,CAAAU,EAAA,GAAvC5B,EAAS6B,EAAA,GAAEC,EAAYD,EAAA,GAAAE,EAEIf,mBAAS,MAAKgB,EAAAd,OAAAC,EAAA,EAAAD,CAAAa,EAAA,GAAzCE,EAAWD,EAAA,GAAEE,EAAUF,EAAA,GAAAG,EACMnB,mBAAS,MAAKoB,EAAAlB,OAAAC,EAAA,EAAAD,CAAAiB,EAAA,GAA3CE,EAAYD,EAAA,GAAEE,EAAWF,EAAA,GAIhCG,oBAAW,WACTpE,IAECF,KAAK,SAAAuE,GACJnB,EAAWmB,MAEZ,IAgFH,OACExD,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAACuD,EAAY,CAAChD,QAASwC,IACvBjD,EAAAC,EAAAC,cAACwD,EAAiB,CAACjD,QAAS4C,IAC5BrD,EAAAC,EAAAC,cAACyD,EAAM,CAAC9B,YAlEQ,SAAC+B,GACnBA,EAAMC,iBACNf,EAAac,EAAME,OAAO1D,QAgEUY,UAAWA,IAC7ChB,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAC6D,EAAU,CAAClE,QAASA,EAASD,QA9DlB,SAACgE,GACfA,EAAMC,iBACN,IAAMG,EAAU,CACd5C,KAAMvB,EACN4B,OAAQnC,GAEND,EAAK,EACL4E,GAAS,EACZ7B,EAAQ8B,QAAQ,SAAA/C,GACZA,EAAIC,OAASvB,IAChBR,EAAK8B,EAAI9B,GACT4E,GAAS,KAIXE,QAAQC,IAAIH,GACTA,EACEI,OAAOC,QAAO,qBAAA9E,OAAsBK,EAAO,OAC9CV,EACQE,EAAI2E,GACX/E,KAAK,WACJoD,EAAWD,GACbc,EAAU,WAAA1D,OAAYK,IACzB0E,WAAW,WACVrB,EAAW,OAAQ,KACnBV,EAAW,IACXG,EAAa,MAKXxD,EACQ6E,GACP/E,KAAK,SAAAH,GACRuD,EAAWD,EAAQ5C,OAAOV,IAC1B0D,EAAW,IACXG,EAAa,IACdO,EAAU,SAAA1D,OAAUK,IACpB0E,WAAW,WACVrB,EAAW,OAAQ,OAChBsB,MAAM,SAAAC,GACPnB,EAAYmB,EAAMvF,SAASC,KAAKsF,OACnCF,WAAW,WACVjB,EAAY,OAAQ,QAmB8BhE,UAAWA,EAC3DQ,WAfe,SAAC8D,GAClBpB,EAAWoB,EAAME,OAAO1D,QAcEL,aAZP,SAAC6D,GACpBjB,EAAaiB,EAAME,OAAO1D,UAYxBJ,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAACwE,EAAK,CAAC3D,MAAOqB,EAASpB,UAAWA,EAAWC,aAvF5B,SAAC5B,GACpB,IAAMsF,EAAiBvC,EAAQwC,KAAK,SAAAC,GAAC,OAAIA,EAAExF,KAAOA,IAC/CgF,OAAOC,QAAO,UAAA9E,OAAWmF,EAAevD,KAAI,OAC7CjC,EACQE,GACPJ,KAAK,SAAA6F,GACJzC,EAAWD,EAAQ5C,OAAOsF,IAC1BzC,EAAWD,EAAQlB,OAAO,SAAA2D,GAAC,OAAIA,EAAExF,KAAOA,KACxC6D,EAAU,WAAA1D,OAAYmF,EAAevD,OACrCmD,WAAW,WACVrB,EAAW,OAAQ,kBCjG5B6B,IAASC,WAAWC,SAASC,eAAe,SAASC,OAAOnF,EAAAC,EAAAC,cAACkF,EAAG","file":"static/js/main.740a56e7.chunk.js","sourcesContent":["import axios from 'axios'\n/* const baseUrl = '/api/persons' */\nconst baseUrl = '/api/persons'\n\nconst create = (added) => {\n    const request = axios.post(baseUrl, added)\n    return request.then(response => response.data)\n  }\n\n  const getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n  }\n\n  const remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n  }\n\n  const update = (id, newNumber) => {\n    const request = axios.put(`${baseUrl}/${id}`, newNumber)\n    return request.then(response => response.data)\n  }\n\n\n  export default {create, getAll, update, remove}","import React, { useState, useEffect } from 'react'\nimport data from './services/names'\n\n\nconst PersonForm = ({addName, newName, newNumber, changeName, changeNumber}) => (\n  <form onSubmit={addName}>\n        <div>\n          name: <input value={newName} onChange={changeName} />\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={changeNumber} />\n          </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n)\n\nconst Notification = ({message}) => {\n  if(message === null) {\n    return null\n  } else {\n  return(\n    <div className=\"message\">\n      {message}\n    </div>\n  )}\n \n}\n\nconst ErrorNotification = ({message}) => {\n  if(message === null) {\n    return null\n  } else {\n  return(\n    <div className=\"error\">\n      {message}\n    </div>\n  )}\n \n}\n\nconst Names = ({names, newFilter, deleteNumber}) => {\n  return(\n    <div>\n    {names.filter((one) => {\n      return newFilter === '' || (one.name.toLowerCase().includes(newFilter.toLowerCase())) \n    }).map(name =>    \n      <p key={name.name}>\n          {name.name} {name.number} <button onClick={() => deleteNumber(name.id)}>delete</button> \n        </p>\n      )\n       }\n       </div>\n      )\n}\n    \n\n\nconst Filter = ({filterNames, newFilter}) =>  (\n  <form>\n    <div>\n      filter: <input value={newFilter} onChange={filterNames}/>\n    </div>\n  </form>\n)\n\n\n\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [newName, setNewName] = useState('')\n\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n\n  const [goodMessage, setNewGood] = useState(null)  \n  const [errorMessage, setNewError] = useState(null)\n\n\n\n  useEffect (() => {\n    data\n    .getAll()\n    .then(base => {\n      setPersons(base)\n    })\n  }, [])\n\n\n  const deleteNumber = (id) => {\n    const numberToDelete = persons.find(n => n.id === id)\n    if(window.confirm(`Delete ${numberToDelete.name}?`)) {\n      data\n      .remove(id)\n      .then(removed => {\n        setPersons(persons.concat(removed))\n        setPersons(persons.filter(n => n.id !== id))\n        setNewGood(`Deleted ${numberToDelete.name}`)\n        setTimeout(() => {\n         setNewGood(null)}, 4000)\n    })\n    }\n  }\n\n\n  const filterNames = (event) => {\n    event.preventDefault()\n    setNewFilter(event.target.value)\n  }\n\n  \n  const addName = (event) => {\n    event.preventDefault()\n    const defName = {\n      name: newName,\n      number: newNumber\n    }\n    let id = 0\n    let result = false\n     persons.forEach(one=> {\n      if(one.name === newName) {\n      id = one.id\n      result = true \n      }\n     }\n      )\n    console.log(result)\n    if(result) {\n      if(window.confirm(`Replace number of ${newName}?`)) {\n      data\n      .update(id, defName)\n      .then(() => {\n        setPersons(persons)\n      setNewGood(`Updated ${newName}`)\n   setTimeout(() => {\n    setNewGood(null)}, 4000)\n    setNewName('')\n    setNewNumber('')\n    })}\n  }\n    else {\n    \n      data\n      .create(defName)\n      .then(added => {\n    setPersons(persons.concat(added))\n    setNewName('')\n    setNewNumber('')\n   setNewGood(`Added ${newName}`)\n   setTimeout(() => {\n    setNewGood(null)}, 4000)\n    }).catch(error => {\n      setNewError(error.response.data.error)\n   setTimeout(() => {\n    setNewError(null)}, 4000)\n    })\n  }\n}\n\n  const changeName = (event) => {\n    setNewName(event.target.value)\n  }\n  const changeNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={goodMessage} />\n      <ErrorNotification message={errorMessage} />\n      <Filter filterNames={filterNames} newFilter={newFilter}/>\n      <h2>add a new</h2>\n      <PersonForm newName={newName} addName={addName} newNumber={newNumber} \n      changeName={changeName} changeNumber={changeNumber} />\n      <h2>Numbers</h2>\n      <Names names={persons} newFilter={newFilter} deleteNumber={deleteNumber} />\n    </div>\n  )\n\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport React from 'react'\nimport App from './App'\nimport './index.css'\n\nReactDOM.createRoot(document.getElementById('root')).render(<App />)"],"sourceRoot":""}